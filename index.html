<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Echonest-ruby-api by maxehmookau</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Echonest-ruby-api</h1>
        <p>A ruby wrapper around the Echonest API</p>

        <p class="view"><a href="https://github.com/maxehmookau/echonest-ruby-api">View the Project on GitHub <small>maxehmookau/echonest-ruby-api</small></a></p>


        <ul>
          <li><a href="https://github.com/maxehmookau/echonest-ruby-api/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/maxehmookau/echonest-ruby-api/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/maxehmookau/echonest-ruby-api">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>echonest-ruby-api <a href="https://codeclimate.com/github/maxehmookau/echonest-ruby-api"><img src="https://codeclimate.com/github/maxehmookau/echonest-ruby-api.png" alt="Code Climate"></a> <a href="https://travis-ci.org/maxehmookau/echonest-ruby-api"><img src="https://travis-ci.org/maxehmookau/echonest-ruby-api.png" alt="Build Status"></a> <a href="https://gemnasium.com/maxehmookau/echonest-ruby-api"><img src="https://gemnasium.com/maxehmookau/echonest-ruby-api.png" alt="Dependency Status"></a>
</h1>

<p><img src="http://the.echonest.com/static/img/logos/250x80_lt.gif" alt="Echonest"></p>

<p><strong>echonesst-ruby-api</strong> is a pure Ruby wrapper around the Echonest APIs. </p>

<h2>Requirements</h2>

<ul>
<li>An API Key (available free)</li>
<li>Ruby 1.9.3+</li>
<li>
<a href="https://github.com/echonest/echoprint-codegen">echonest/echoprint-codegen</a> binary in your <code>$PATH</code> if you want to identify audio files. (yeah, <em>identify!</em>)</li>
</ul><h2>Installation</h2>

<p>In your Gemfile:</p>

<pre><code>gem 'echonest-ruby-api'
</code></pre>

<p>and then <code>bundle install</code></p>

<p>Or install locally:</p>

<pre><code>$ (sudo) gem install echonest-ruby-api
</code></pre>

<h2>Usage</h2>

<p>Require the gem in your file:</p>

<pre><code>require 'echonest-ruby-api'
</code></pre>

<h2>Artist</h2>

<p>Create an instance of an object</p>

<pre><code>artist = Echonest::Artist.new('Weezer', 'YOUR-API-KEY')
</code></pre>

<p>Then you have access to a bunch of methods:</p>

<pre><code>artist.name
artist.biographies
artist.blogs
artist.familiarity
artist.hotttnesss
artist.images
artist.songs
</code></pre>

<p><em>Exact response are specified in the RDoc  but the method names try to be as self-explanatory as possible.</em></p>

<h2>Song</h2>

<p>Create an instance of the Song module.</p>

<pre><code>song = Echonest::Song.new('YOUR-API-KEY')
</code></pre>

<p>Then you have access to the song/search endpoint:
<em>(this is where it gets clever)</em></p>

<pre><code>params = { mood: "sad^.5", results: 10, min_tempo: 130, max_tempo: 150 }
song.search(params)
</code></pre>

<p>See the full list of params <a href="http://developer.echonest.com/docs/v4/song.html#search">here</a></p>

<h2>Identification</h2>

<blockquote>
<p><strong>Note:</strong> This stuff is flakey as hell. Seems to work pretty well on OSX, but it doesn't work out of the box. You'll need to follow these instructions to get it working.</p>
</blockquote>

<p>You can even <strong>identify</strong> a song simply from its fingerprint! Support for this is flaky so far and only tested on OS X.</p>

<p>Firstly, make sure that the <code>echoprint-codegen</code> binary is available on your local <code>$PATH</code>. </p>

<p>Just run: <code>echoprint-codegen</code> on the terminal and see if it returns anything other than an error.</p>

<p>If it's not installed, you'll need to compile it from source. <strong>It's not as scary as it sounds.</strong></p>

<pre><code>brew install ffmpeg boost taglib # Install dependencies

cd ~/Desktop/ # or somewhere else sensible, you can delete it later anyway

git clone https://github.com/echonest/echoprint-codegen.git

cd echoprint-codegen

make

make install
</code></pre>

<p>This should then allow you to use the <code>echoprint-codegen</code> command at the command line. If not, try following the instructions here: <a href="https://github.com/echonest/echoprint-codegen">echonest/echoprint-codegen</a></p>

<p>Then just use this method call:</p>

<pre><code>song = Echonest::Song.new('YOUR-API-KEY')
code = song.echoprint_code('path/to/audio/file')
puts code.identify(code)
</code></pre>

<p>If there's a positive match, it'll return something like this:</p>

<pre><code>{
  "response": {
        "status": {
        "code": 0,
        "message": "Success",
        "version": "4.2"
      },
      "songs": [
      {
        "title": "Billie Jean",
        "artist_name": "Michael Jackson",
        "artist_id": "ARXPPEY1187FB51DF4",
        "score": 49,
        "message": "OK (match type 5)",
        "id": "SOKHYNL12A8C142FC7"
      }
    ]
  }
}
</code></pre>

<p>Checkout <code>spec/song_spec.rb</code> for an example code to test it out. </p>

<p>Note that this calls the song/identify API endpoint and does <em>not</em> support other Echoprint servers.</p>

<h2>Testing</h2>

<p>Testing is done using RSpec. Just run <code>guard</code> in the root directory and it'll run the tests automatically. Use <code>vcr</code> to mock responses from the Echonest servers.</p>

<h2>Contributors</h2>

<p>Max Woolf (me!)
abdyer</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/maxehmookau">maxehmookau</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>